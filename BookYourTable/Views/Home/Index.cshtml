@model IEnumerable<BookYourTable.BLL.Models.InvitationBLL>
@using BookYourTable.BLL.Models;

@{
    ViewBag.Title = "BookYourTable";
}

<h2>Previous Visits</h2>

<div style="clear: both"></div>
<div class="restaurants" style="position:relative; top: 0px">
    <div></div>
    @foreach (var item in Model)
    {
        <div class="restaurant" id="@item.Reservation.Restaurant.RestaurantID">
            <div class="restaurant-left">
                    <img class="poster" src="~/Content/Images/restaurant_default.jpg" />
            </div>
            <div class="restaurant-right">
                <h3 style="color:darkgray">@item.Reservation.Restaurant.Name</h3>
                <p style="position:relative; top:-5px">Address: @item.Reservation.Restaurant.Address</p>
                <p style="position:relative; top:-15px;">Description: @item.Reservation.Restaurant.Description</p>
                <p style="position:relative; top:-25px;">Date Of Visit: @item.Reservation.ReservationDate.ToShortDateString()</p>
                @if (item.Grade == null)
                {
                    <form class="form-inline" style="position :relative; top: 32px; right:5px;  float:right;" action="../Home/Rate" method="post">
                        <fieldset>
                            <div class="form-group">
                                <label class="control-label" style="position:relative; left:-6px">Mark:</label>
                                <input class="form-control" type="number" name="mark" min="1" max="5" value="1" style="position:relative; top:1px; left:-3px">
                                <input type="submit" class="btn btn-success" value="Rate!" />
                                <input type="hidden" value="@item.ReservationID" name="reservationID" />
                            </div>
                        </fieldset>
                    </form>
                }
                else
                {
                    <form class="form-inline" style="position :relative; top: 32px; right:5px;  float:right;" action="#" method="post">
                        <fieldset>
                            <div class="form-group">
                                <label class="control-label" style="position:relative; left:-16px; top:20px">Your Mark: @item.Grade</label>
                            </div>
                        </fieldset>
                    </form>
                }

            </div>
        </div>
    }
</div>
<div style="clear: both"></div>